# Spring Batch ì‚¬ìš©ì í•˜ë“œ ë”œë¦¬íŠ¸ ì„±ëŠ¥ ìµœì í™” í”„ë¡œì íŠ¸ ë³´ê³ ì„œ

**ëŒ€ìƒ ì‹œìŠ¤í…œ**: `userHardDeleteDeletedJob` (Spring Batch / PostgreSQL)  
**ìµœì¢… ì„±ê³¼**: **935% ì„±ëŠ¥ í–¥ìƒ** (340s â†’ 36s)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 

- **ì†Œí”„íŠ¸ ë”œë¦¬íŠ¸ëœ ì‚¬ìš©ì ë ˆì½”ë“œ**ë¥¼ ë³´ì¡´ ê¸°ê°„(retention threshold) ì´í›„ **í•˜ë“œ ë”œë¦¬íŠ¸**
- ê¸‰ê²©í•œ ì„±ëŠ¥ ì €í•˜ ì›ì¸ íŒŒì•… ë° í•´ê²°
- ë°ë“œë½/ë½ ê²½í•© ë¬¸ì œ ì œê±° ë° ì¬ë°œ ë°©ì§€

### ì‹œìŠ¤í…œ êµ¬ì„±

- **ê¸°ìˆ  ìŠ¤íƒ**: Spring Batch + PostgreSQL + HikariCP
- **ë°ì´í„° ì ‘ê·¼**:  JDBC
- **í…ŒìŠ¤íŠ¸ í™˜ê²½**: ë¡œì»¬ ë§¥ë¶ í”„ë¡œ (14-core, 24GB RAM)
- **ëŒ€ìƒ ë°ì´í„°**: 10,000,000ê±´

### ì´ˆê¸° ë¬¸ì œì 

1. **ì„±ëŠ¥ ê¸‰ì €í•˜**: ë™ì¼ ì¡°ê±´ì„ì—ë„ ë°°ì¹˜ ì‹¤í–‰ ì‹œê°„ ê¸‰ì¦
2. **ë°ë“œë½ ë°œìƒ**: `deadlock detected`ë¡œ ì¡ ì‹¤íŒ¨
3. **ë©€í‹°ìŠ¤ë ˆë“œ ì‹¤íŒ¨**: ë‚´ë¶€ ë³‘ë ¬í™” ì‹œ ì˜¤íˆë ¤ ì§€ì—°
4. **ë¶ˆê· ë“± íŒŒí‹°ì…”ë‹**: ë¬¸ìì—´ ID ë²”ìœ„ ë¶„í• ë¡œ ë¡±í…Œì¼ ë°œìƒ
5. **CASCADE ë¶€ì‘ìš©**: ë„ë©”ì¸ë³„ retention ì •ì±…ê³¼ ì¶©ëŒ

---

## ğŸ” ì‹œë„ ê³¼ì • ë° ê²°ê³¼

### Phase 1: ë² ì´ìŠ¤ë¼ì¸ ì¸¡ì • (ExecutionId: 28)

**ì„¤ì •**

- ì‹±ê¸€ ìŠ¤ë ˆë“œ ì‹¤í–‰
- ì²­í¬ í¬ê¸°: 1,000
- ì»¤ë„¥ì…˜ í’€: ê¸°ë³¸ ì„¤ì •

**ê²°ê³¼**

```
 ì‹¤í–‰ì‹œê°„: 00h 05m 40s 770ms
 ì²˜ë¦¬ëŸ‰: 29,345 rec/s
 ìƒíƒœ: COMPLETED
 ì»¤ë°‹ ìˆ˜: 10,001
```

---

### Phase 2: ìŠ¤í… ë‚´ë¶€ ë©€í‹°ìŠ¤ë ˆë“œ ì‹œë„ â†’ ì‹¤íŒ¨

**ì„¤ì •**

- JpaCursorItemReader + taskExecutor
- ë©€í‹°ìŠ¤ë ˆë“œ ì²­í¬ ì²˜ë¦¬

**ê²°ê³¼**

```
 ìƒíƒœ: FAILED
 ë¬¸ì œ: ì‹¤í–‰ ì¤‘ ì¡°íšŒë§Œ ë°˜ë³µë˜ëŠ” í˜„ìƒ
 ì›ì¸: Cursor ê¸°ë°˜ ë¦¬ë”ì˜ ë¹„-ìŠ¤ë ˆë“œ ì„¸ì´í”„ íŠ¹ì„±
```

---

### Phase 3: ì´ˆê¸° íŒŒí‹°ì…”ë‹ ì ìš© â†’ ì„±ëŠ¥ ì €í•˜ (ExecutionId: 38)

**ì„¤ì •**

- Masterâ€“Slave íŒŒí‹°ì…”ë‹
- gridSize: 4
- ë¬¸ìì—´ IDë¥¼ `minId`, `maxId`ë¡œ ë²”ìœ„ ë¶„í• 

**ê²°ê³¼**

```
 ì‹¤í–‰ì‹œê°„: 00h 07m 26s 153ms
 ì²˜ë¦¬ëŸ‰: 22,413 rec/s (24% ì €í•˜)
 ë¬¸ì œ: ë¶ˆê· ë“± ë¶„í• ë¡œ ë¡±í…Œì¼ ë°œìƒ
```

#### ë¬¸ìì—´ `nanoId` ê¸°ë°˜ `user_id`ë¥¼ ë²”ìœ„ ë¶„í• í–ˆì„ ë•Œì˜ í•œê³„

1. **ë¶„í¬ ì™œê³¡**: ë¬¸ìì—´ì€ ìˆ«ìì²˜ëŸ¼ ê· ì¼í•˜ì§€ ì•Šì•„ êµ¬ê°„ Në“±ë¶„ ì‹œ ìƒ¤ë“œ ê°„ ì‘ì—…ëŸ‰ì´ ì¹˜ìš°ì¹¨(ìŠ¤í ë°œìƒ)
2. **ê²½ê³„ ë¦¬ìŠ¤í¬**: ë¬¸ìì—´ ë¹„êµëŠ” ë¡œì¼€ì¼/ì½œë ˆì´ì…˜ì— ì˜í–¥ë°›ì„ ìˆ˜ ìˆê³ , `BETWEEN` ë¶„í•  ì‹œ ê²½ê³„ê°’ **ì¤‘ë³µ/ëˆ„ë½** ìœ„í—˜ ì¡´ì¬  
   (ì˜ˆ: `user1, user2, â€¦` í˜•íƒœ ë°ì´í„°ì—ì„œ ì‹¤ì œ ëˆ„ë½ ì‚¬ë¡€ ë°œìƒ)
3. **ì²˜ë¦¬ëŸ‰ ë¶ˆê· í˜•**: íŠ¹ì • íŒŒí‹°ì…˜ì´ ê³¼ë‹¤ ëŒ€ê¸° â†’ ì „ì²´ ì²˜ë¦¬ ì‹œê°„ ì¦ê°€(ë¡±í…Œì¼)
4. **nanoId íŠ¹ì„±**: ì‚¬ì „ì‹(min/max) ë¶„í• ì´ ì‹¤ì œ ê±´ìˆ˜ ë¹„ìœ¨ê³¼ ë¶ˆì¼ì¹˜ â†’ ìŠ¤í ë° ê²½ê³„ ê³„ì‚° ë¹„ìš© ì¦ê°€

---

### Phase 4: í•´ì‹œ ê¸°ë°˜ ìƒ¤ë“œ íŒŒí‹°ì…”ë‹ ì ìš© (ExecutionId: 45)

**ì„¤ì •**

- í•´ì‹œ í•¨ìˆ˜ ê¸°ë°˜ ê· ë“± ë¶„í• 
- gridSize: 100
- taskExecutor: 128

**ê²°ê³¼**

```
 ì‹¤í–‰ì‹œê°„: 00h 01m 01s 701ms
 ì²˜ë¦¬ëŸ‰: 324,144 rec/s (1004% í–¥ìƒ!)
 ìƒíƒœ: COMPLETED
 íŒŒí‹°ì…˜ ê· ë“±ë„: 99.74%
```

**ìƒ¤ë“œë³„ ë¶„í¬ ê²€ì¦**

```sql
SELECT mod(abs(hashtext(user_id)), 20) AS shard, count(*)
FROM users
WHERE status = 'DELETED'
GROUP BY shard;
```

| shard |   count |      í¸ì°¨ |
|------:|--------:|--------:|
|     0 | 500,090 | +0.018% |
|     1 | 498,596 | -0.281% |
|     â€¦ |       â€¦ |       â€¦ |
|    19 | 500,809 | +0.162% |

ìš”ì•½
1. ìƒ¤ë“œ ë¶„í¬ ê²€ì¦ìœ¼ë¡œ íŠ¹ì • ìƒ¤ë“œ ì ë¦¼ ì—†ì´ **ìœ ì‚¬ ë¹„ìœ¨**ë¡œ ë¶„ë°°ë¨ì„ í™•ì¸
2. **NanoIdì˜ ë‚œìˆ˜ì„±** + ì„ì˜ í•´ì‹œ + `mod N` â†’ ì´ë¡ ì ìœ¼ë¡œ **ê±°ì˜ ê· ë“± ë¶„ë°°**
3. íŒŒí‹°ì…˜ ì¡°ê±´ì´ `hash_mod = k`ë¡œ **ëª…í™•Â·ìƒí˜¸ë°°íƒ€ì ** â†’ **ì¤‘ë³µ/ëˆ„ë½ ì—†ìŒ**
4. ê²½ê³„ ê³„ì‚° ë¶ˆí•„ìš” â†’ **ì„ í–‰ ìŠ¤ìº” ë¹„ìš© ì œê±°**
5. ì‹¤ì¸¡ ê¸°ì¤€ **Â±0.3% ì´ë‚´ ê· ë“±í™”**ë¡œ ë³‘ë ¬ ì²˜ë¦¬ íš¨ìœ¨ ëŒ€í­ ê°œì„ 
6. ìƒ¤ë“œ ìˆ˜(`gridSize`)ëŠ” **ì½”ì–´/ì»¤ë„¥ì…˜ í’€/ë””ìŠ¤í¬ ëŒ€ì—­í­**ì„ ê³ ë ¤í•´ **ë¬¼ë¦¬ ë™ì‹œì„±ë³´ë‹¤ ì•½ê°„ í¬ê²Œ** ì„¤ì •

---

### Phase 5: ì„¤ì • ìµœì í™” ì‹œë¦¬ì¦ˆ (ExecutionId: 46â€“67)

**ì£¼ìš” ì‹œë„**

- **ì²­í¬ í¬ê¸° íŠœë‹**: 500 ~ 2000
- **gridSize ì¡°ì •**: 20 ~ 50
- **HikariCP íŠœë‹**: í’€ í¬ê¸° 25 ~ 120
- **taskExecutor ì¡°ì •**: 20 ~ 50 ì½”ì–´

**ìµœì  ì„¤ì • ë°œê²¬ (ExecutionId: 56)**

```
 ì‹¤í–‰ì‹œê°„: 00h 00m 39s 632ms
 ì²˜ë¦¬ëŸ‰: 252,145 rec/s
 ì„¤ì •: chunk=1500, grid=20, pool=25
```

---

### Phase 6: ìµœì¢… ìµœì í™” (ExecutionId: 68)

**ì„¤ì •**

- ì²­í¬ í¬ê¸°: 1,000 (ìµœì ê°’ ì¬í™•ì¸)
- gridSize: 20
- HikariCP: 25
- taskExecutor: 20

**ê²°ê³¼**

```
 ì‹¤í–‰ì‹œê°„: 00h 00m 37s 629ms
 ì²˜ë¦¬ëŸ‰: 265,252 rec/s
 ì„±ëŠ¥ í–¥ìƒ: 854% (vs ë² ì´ìŠ¤ë¼ì¸)
 ìƒíƒœ: COMPLETED
```

### Phase 7: ì¸ë±ìŠ¤ ìµœì í™” ì¶”ê°€

**ì¶”ê°€ ì¸ë±ìŠ¤**

```sql
CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_covering_batch_query
    ON users (status, modified_at) INCLUDE (user_id);
```

**ìµœì¢… ê²°ê³¼**

```
 ì‹¤í–‰ì‹œê°„: 00h 00m 36s 397ms
 ì²˜ë¦¬ëŸ‰: 274,725 rec/s
 ì´ ì„±ëŠ¥ í–¥ìƒ: 935% (vs ë² ì´ìŠ¤ë¼ì¸)
 ìµœì¢… ê°œì„ : 3.4% (ì¸ë±ìŠ¤ íš¨ê³¼)
```

---

## í•µì‹¬ ìˆ˜ì¹˜ ë¶„ì„

### ì‹¤í–‰ ì‹œê°„ ë¹„êµ

| ë‹¨ê³„      |   ì‹œê°„ | ê°œì„ ìœ¨ |  ëˆ„ì  ê°œì„ ìœ¨ |
|---------|-----:|----:|--------:|
| ë² ì´ìŠ¤ë¼ì¸   | 340s |   - |       - |
| í•´ì‹œ íŒŒí‹°ì…”ë‹ |  62s | 82% |     82% |
| ì„¤ì • ìµœì í™”  |  40s | 35% |     88% |
| ì²­í¬ íŠœë‹   |  38s |  5% |     89% |
| ì¸ë±ìŠ¤ ì¶”ê°€  |  36s |  5% | **89%** |

### ì²˜ë¦¬ëŸ‰ ë¹„êµ

```
ë² ì´ìŠ¤ë¼ì¸:    29,345 rec/s  â–ˆâ–ˆâ–ˆâ–ˆ
í•´ì‹œ íŒŒí‹°ì…”ë‹: 324,144 rec/s â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
ìµœì¢… ìµœì í™”:   274,725 rec/s â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

### ì„±ëŠ¥ ê¸°ì—¬ë„ ë¶„ì„

1. **í•´ì‹œ íŒŒí‹°ì…”ë‹**: 82% ê°œì„  (ê°€ì¥ í° ê¸°ì—¬)
2. **ë¦¬ì†ŒìŠ¤ íŠœë‹**: 35% ê°œì„ 
3. **ì²­í¬ ìµœì í™”**: 5% ê°œì„ 
4. **ì¸ë±ìŠ¤ ì¶”ê°€**: 5% ê°œì„ 

---

## ğŸ”§ í•µì‹¬ í•´ê²°ì±…

### 1. í•´ì‹œ ê¸°ë°˜ ìƒ¤ë“œ íŒŒí‹°ì…”ë‹

**AS-IS: ë¬¸ìì—´ ë²”ìœ„ ë¶„í• **

```sql
WHERE user_id >= 'perf-user-1000' AND user_id < 'perf-user-2000'
```

**ë¬¸ì œ**: ë¶ˆê· ë“± ë¶„í• , ë¡±í…Œì¼ ë°œìƒ

**TO-BE: í•´ì‹œ ëª¨ë“ˆëŸ¬ ìƒ¤ë”©**

```sql
WHERE mod(abs(hashtext(user_id)), :N) = :shard
  AND status = 'DELETED'
  AND modified_at < :threshold
```

**íš¨ê³¼**: 99.74% ê· ë“± ë¶„í• , ë½ ê²½í•© í•´ì†Œ

### 2. ë™ì‹œì„± ëª¨ë¸ ìµœì í™”

**AS-IS: ì´ì¤‘ ë³‘ë ¬**

- Master íŒŒí‹°ì…”ë‹ + Worker `taskExecutor` ë™ì‹œ ì‚¬ìš©
- ì»¤ë„¥ì…˜ í’€ ê³ ê°ˆ ë° ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì˜¤ë²„í—¤ë“œ

**TO-BE: ë‹¨ìˆœ íŒŒí‹°ì…”ë‹**

- Master íŒŒí‹°ì…”ë‹ë§Œ ìˆ˜í–‰, WorkerëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œ
- ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±ê³¼ ì•ˆì •ì„± í™•ë³´

### 3. ë¦¬ì†ŒìŠ¤ ì •ë ¬

**HikariCP ìµœì í™”**

```yaml
spring:
  datasource:
    hikari:
      maximum-pool-size: 25    # gridSize + 5
      minimum-idle: 0          # ë°°ì¹˜ íŠ¹ì„±ìƒ ìœ íœ´ ìµœì†Œí™”
      connection-timeout: 5000 # 5ì´ˆ
```

**ì›ì¹™**: `gridSize â‰¤ maxPoolSize - margin`

### 4. ë°ì´í„° ì ‘ê·¼ ìµœì í™”

**Reader**: IDë§Œ ì¡°íšŒ (JDBC Paging)

```sql
SELECT user_id
FROM users
WHERE...
    ORDER BY user_id;
```

**Writer**: ë°°ì—´ ë°”ì¸ë”© ë²Œí¬ DELETE

```sql
DELETE
FROM users
WHERE user_id = ANY (?)
  AND status = ?
  AND modified_at < ?;
```

### 5. ì¸ë±ìŠ¤ ìµœì í™”

**ë³µí•© ì¸ë±ìŠ¤**: WHERE ì¡°ê±´ + ORDER BY ì»¤ë²„

```sql
CREATE INDEX idx_users_status_modified_at_user_id
    ON users (status, modified_at, user_id);
```

**ì»¤ë²„ë§ ì¸ë±ìŠ¤**: Index-Only Scan ì§€ì›

```sql
CREATE INDEX idx_users_covering_batch_query
    ON users (status, modified_at) INCLUDE (user_id);
```

---

## ğŸ“ˆ ì„±ëŠ¥ ì˜í–¥ ìš”ì†Œ ë¶„ì„

### ì²­í¬ í¬ê¸°ë³„ ì„±ëŠ¥ ë¹„êµ

|    ì²­í¬ í¬ê¸° |       ì‹¤í–‰ ì‹œê°„ |               ì²˜ë¦¬ëŸ‰ |         ë¹„ê³  |
|---------:|------------:|------------------:|-----------:|
|      500 |     01m 30s |     111,111 rec/s | ì»¤ë°‹ ì˜¤ë²„í—¤ë“œ ê³¼ë‹¤ |
|      800 |     02m 55s |      57,143 rec/s |       ë¹„íš¨ìœ¨ì  |
| **1000** | **00m 37s** | **265,252 rec/s** |     **ìµœì ** |
|     1200 |     02m 05s |      79,365 rec/s |    ë½ ëŒ€ê¸° ì¦ê°€ |
|     1500 |     00m 39s |     252,145 rec/s |    ì–‘í˜¸í•˜ë‚˜ ì°¨ì„  |
|     2000 |     03m 03s |      54,348 rec/s |    ë½ ê²½í•© ì‹¬í™” |

**ìµœì  ì²­í¬ í¬ê¸°**: 1,000 (ì»¤ë°‹ë‹¹ ì•½ 1ì´ˆ ì²˜ë¦¬)

### gridSizeë³„ ì„±ëŠ¥ ë¹„êµ

| gridSize |       ì‹¤í–‰ ì‹œê°„ |               ì²˜ë¦¬ëŸ‰ |      ìƒíƒœ |
|---------:|------------:|------------------:|--------:|
|       20 | **00m 37s** | **265,252 rec/s** |  **ìµœì ** |
|       22 |     00m 57s |     172,414 rec/s |      ì–‘í˜¸ |
|       25 |     01m 07s |     149,254 rec/s |   ìˆ˜ìš© ê°€ëŠ¥ |
|       50 |     00m 57s |     172,414 rec/s | ì˜¤ë²„í—¤ë“œ ë°œìƒ |
|      100 |     01m 01s |     163,934 rec/s |  ì»¤ë„¥ì…˜ ê²½í•© |

**ìµœì  gridSize**: 20 (CPU ì½”ì–´ì˜ ì•½ 1.4ë°°)

---

## ğŸ¯ ìµœì¢… ì„±ê³¼

### ì •ëŸ‰ì  ì„±ê³¼

- **ì‹¤í–‰ ì‹œê°„**: 340ì´ˆ â†’ 36ì´ˆ (**89% ë‹¨ì¶•**)
- **ì²˜ë¦¬ëŸ‰**: 29,345 rec/s â†’ 274,725 rec/s (**935% í–¥ìƒ**)
- **ë°ì´í„° ì²˜ë¦¬ëŸ‰**: 10,000,000ê±´(ë™ì¼)
- **ì•ˆì •ì„±**: FAILED â†’ COMPLETED

### ì •ì„±ì  ì„±ê³¼

1. **ë°ë“œë½ í•´ê²°**: í•´ì‹œ íŒŒí‹°ì…”ë‹ìœ¼ë¡œ ë½ ê²½í•© ì œê±°
2. **í™•ì¥ì„± í™•ë³´**: gridSize ì¡°ì •ìœ¼ë¡œ ìœ ì—°í•œ íŠœë‹ ê°€ëŠ¥
3. **ìš´ì˜ ì•ˆì •ì„±**: ë‹¨ìˆœí™”ëœ ì•„í‚¤í…ì²˜ë¡œ ì¥ì•  í¬ì¸íŠ¸ ê°ì†Œ
4. **ëª¨ë‹ˆí„°ë§ ê°•í™”**: ìƒì„¸ ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì²´ê³„ êµ¬ì¶•

### ë¹„ìš© íš¨ê³¼

- **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**: 89% ê°ì†Œ
- **ë°°ì¹˜ ìœˆë„ìš°**: 5ë¶„ 40ì´ˆ â†’ 36ì´ˆ
- **ìš´ì˜ ë¹„ìš©**: ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ ì ˆê°

---

## ğŸ“š êµí›ˆ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. íŒŒí‹°ì…”ë‹ ì „ëµ

- **ë¬¸ìì—´ í‚¤ëŠ” í•´ì‹œ ë¶„í• **: ë²”ìœ„ ë¶„í• ì€ ë¡±í…Œì¼ ìœ„í—˜
- **ê· ë“± ë¶„ë°°ê°€ í•µì‹¬**: 99% ì´ìƒ ê· ë“±ë„ ëª©í‘œ
- **ìˆ˜í•™ì  ê·¼ê±°**: ì´í•­ë¶„í¬ ëª¨ë¸ë¡œ ì´ë¡ ì  ë’·ë°›ì¹¨

### 2. ë™ì‹œì„± ì„¤ê³„ ì›ì¹™

- **ë‹¨ìˆœí•¨ì´ ìµœê³ **: ë³µì¡í•œ ì´ì¤‘ ë³‘ë ¬ë³´ë‹¤ ë‹¨ìˆœ íŒŒí‹°ì…”ë‹
- **ë¦¬ì†ŒìŠ¤ ì •ë ¬**: `gridSize â‰¤ poolSize - margin` ì¤€ìˆ˜
- **ë³‘ëª© íŒŒì•…**: ì»¤ë„¥ì…˜ í’€ì€ ëŒ€í‘œì  ì„±ëŠ¥ ì œì•½

### 3. ì„±ëŠ¥ íŠœë‹ ë°©ë²•ë¡ 

- **ë©”íŠ¸ë¦­ ê¸°ë°˜**: ì‹¤í–‰ ì‹œê°„, ì²˜ë¦¬ëŸ‰, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  ì¢…í•© ë¶„ì„
- **ë‹¨ê³„ì  ì ‘ê·¼**: ë³€ê²½ì€ í•˜ë‚˜ì”©, ì˜í–¥ë„ ì¸¡ì •
- **ì§€ì†ì  ëª¨ë‹ˆí„°ë§**: íŒŒí‹°ì…˜ë³„ ì„±ëŠ¥/í’€ ëŒ€ê¸° ì‹œê°„ ì¶”ì 

### 4. ì¸ë±ìŠ¤ ì„¤ê³„

- **ë³µí•© ì¸ë±ìŠ¤**: WHERE + ORDER BY ì»¤ë²„
- **ì»¤ë²„ë§ ì¸ë±ìŠ¤**: Index-Only Scanìœ¼ë¡œ I/O ì ˆê°
- **PostgreSQL ì˜µì…˜**: `INCLUDE`, `CONCURRENTLY` ì ê·¹ í™œìš©

---

## ğŸ”® í–¥í›„ ê³„íš

### ë‹¨ê¸°

- [ ] ìš´ì˜ í™˜ê²½ ì„±ëŠ¥ ê²€ì¦
- [ ] ë‹¤ë¥¸ í•˜ë“œ ë”œë¦¬íŠ¸ ì¡ì— íŒ¨í„´ ì ìš©
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•

### ì¤‘ê¸°

- [ ] ìë™ ì„±ëŠ¥ íŠœë‹ ì‹œìŠ¤í…œ ë„ì…
- [ ] ë°°ì¹˜ ì„±ëŠ¥ ê¸°ì¤€ ì •ë¦½
- [ ] ì¥ì•  ëŒ€ì‘ í”Œë ˆì´ë¶ ì‘ì„±

### ì¥ê¸°

- [ ] ë¶„ì‚° ë°°ì¹˜ ì•„í‚¤í…ì²˜ ê²€í† 
- [ ] ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ë„ì… ê³ ë ¤
- [ ] AI ê¸°ë°˜ ì„±ëŠ¥ ì˜ˆì¸¡ ëª¨ë¸ êµ¬ì¶•

---

## ğŸ“– ì°¸ê³  ìë£Œ

- Spring Batch Reference Documentation
- PostgreSQL Index Documentation
- HikariCP Configuration
- ë‚´ë¶€ ë¬¸ì„œ: `/docs/performance-testing/performance-analysis.md`
- ì„±ëŠ¥ ë¡œê·¸: `/logs/batch/performance-metrics.log`

---

**í”„ë¡œì íŠ¸ ì™„ë£Œì¼**: 2025-08-16  
**ìµœì¢… ê²€í† ì**: Performance Engineering Team
